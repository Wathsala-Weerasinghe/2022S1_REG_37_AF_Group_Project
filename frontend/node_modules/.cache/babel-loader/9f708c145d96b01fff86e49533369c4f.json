{"ast":null,"code":"var _jsxFileName = \"/Users/kethmi/Desktop/assignment/2022S1_REG_37_AF_Group_Project/frontend/src/pages/theater/ViewTheater.js\";\nimport React from \"react\";\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass ViewTheater extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      tableData: []\n    };\n  }\n\n  componentDidMount() {\n    if (this.first) return;\n    this.first = true;\n    var token = sessionStorage.getItem('token');\n    axios.get(`http://localhost:3021/theaters`, {\n      headers: {\n        'Authorization': token\n      }\n    }).then(response => {\n      this.setState(prevState => {\n        let tableData = { ...prevState.tableData\n        };\n        tableData = response.data;\n        return {\n          tableData\n        };\n      });\n    }).catch(function (error) {\n      console.log(error);\n    });\n  }\n\n  fetchUpdatableHref(id) {\n    return \"/update-theater/\" + id;\n  }\n\n  fetchDeletableHref(id) {\n    return \"/delete-theater/\" + id;\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \"Theaters\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"a\", {\n          className: \"btn btn-success\",\n          href: \"/new-theater\",\n          children: \"Create\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 23\n        }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"table table-striped\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            className: \"thead-dark\",\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 53,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Location\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 54,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"command-col\",\n                children: \"#\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 55,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 52,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: this.state.tableData.map(item => /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: item.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 61,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: item.location\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 62,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: [/*#__PURE__*/_jsxDEV(\"a\", {\n                  className: \"btn btn-primary\",\n                  href: this.fetchUpdatableHref(item._id),\n                  children: \"Update\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 64,\n                  columnNumber: 33\n                }, this), \"\\xA0\\xA0\", /*#__PURE__*/_jsxDEV(\"a\", {\n                  className: \"btn btn-danger\",\n                  href: this.fetchDeletableHref(item._id),\n                  children: \"Delete\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 66,\n                  columnNumber: 33\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 63,\n                columnNumber: 29\n              }, this)]\n            }, item._id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 25\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 17\n    }, this);\n  }\n\n}\n\nexport default ViewTheater;","map":{"version":3,"names":["React","axios","ViewTheater","Component","constructor","state","tableData","componentDidMount","first","token","sessionStorage","getItem","get","headers","then","response","setState","prevState","data","catch","error","console","log","fetchUpdatableHref","id","fetchDeletableHref","render","map","item","name","location","_id"],"sources":["/Users/kethmi/Desktop/assignment/2022S1_REG_37_AF_Group_Project/frontend/src/pages/theater/ViewTheater.js"],"sourcesContent":["import React from \"react\";\r\nimport axios from 'axios';\r\n\r\nclass ViewTheater extends React.Component\r\n{\r\n    constructor () {\r\n        super();\r\n\r\n        this.state = {\r\n            tableData: [],\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        if (this.first) return; this.first = true;\r\n\r\n        var token = sessionStorage.getItem('token');\r\n        axios.get(`http://localhost:3021/theaters`, {\r\n            headers: {\r\n            'Authorization' : token\r\n            }\r\n        })\r\n        .then(response => {\r\n            this.setState(prevState => {\r\n                let tableData = { ...prevState.tableData };\r\n                tableData = response.data;                 \r\n                return { tableData }; \r\n              });\r\n        })\r\n        .catch(function (error) {\r\n            console.log(error);\r\n        });\r\n    }\r\n\r\n    fetchUpdatableHref(id){\r\n        return \"/update-theater/\" + id;\r\n    }\r\n\r\n    fetchDeletableHref(id){\r\n        return \"/delete-theater/\" + id;\r\n    }\r\n\r\n    render() {\r\n        return (<div>\r\n            <h4>Theaters</h4>\r\n            <hr />\r\n            <div>\r\n                <a className=\"btn btn-success\" href=\"/new-theater\">Create</a>\r\n                <br /><br />\r\n                <table className=\"table table-striped\">\r\n                    <thead className=\"thead-dark\">\r\n                        <tr>\r\n                            <th>Name</th>\r\n                            <th>Location</th>\r\n                            <th className=\"command-col\">#</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                    {this.state.tableData.map(item => \r\n                        <tr key={item._id}>\r\n                            <td>{item.name}</td>\r\n                            <td>{item.location}</td>\r\n                            <td>\r\n                                <a className=\"btn btn-primary\" href={this.fetchUpdatableHref(item._id)}>Update</a>\r\n                                &nbsp;&nbsp;\r\n                                <a className=\"btn btn-danger\" href={this.fetchDeletableHref(item._id)}>Delete</a>\r\n                            </td>\r\n                        </tr>\r\n                        )}\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        </div>);\r\n    }\r\n}\r\n\r\nexport default ViewTheater;"],"mappings":"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"},"metadata":{},"sourceType":"module"}